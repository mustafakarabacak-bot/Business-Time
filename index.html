<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Business Time</title>
  <!-- PWA manifest ve ikon -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon.png">
  <style>
    :root {
      --bg: #f4f6fc;
      --text: #1a1a1a;
      --box: #ffffff;
      --accent: #1a73e8;
      --gold: #d4af37;
    }
    body.dark {
      --bg: #121212;
      --text: #f4f4f4;
      --box: #1e1e1e;
      --accent: #8ab4f8;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', sans-serif;
      padding: 5vw;
      transition: background 0.3s, color 0.3s;
      min-height: 100vh;
      position: relative;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 4vw;
    }
    .logo {
      height: 40px;
    }
    .username {
      font-size: 4vw;
      opacity: 0.7;
    }
    /* Ana ekran ve Profil arasƒ±nda ge√ßi≈ü yapan g√∂r√ºn√ºm */
    .hidden { display: none; }
    /* Giri≈ü alanlarƒ± */
    .input-group {
      max-width: 500px;
      margin: 2vw auto;
    }
    .input-group label {
      display: block;
      margin-bottom: 1vw;
      font-weight: 600;
      font-size: 4vw;
    }
    .input-group input {
      width: 100%;
      padding: 2vw;
      border-radius: 1vw;
      font-size: 4vw;
      border: 1px solid #ccc;
      background: var(--box);
      color: var(--text);
    }
    .time-group {
      display: flex;
      gap: 2vw;
    }
    /* D√ºƒümeler */
    .buttons {
      max-width: 500px;
      margin: 2vw auto;
      display: flex;
      flex-wrap: wrap;
      gap: 2vw;
      justify-content: center;
    }
    .buttons button {
      flex: 1 1 45%;
      padding: 3vw;
      font-size: 4vw;
      font-weight: bold;
      border: none;
      border-radius: 1vw;
      cursor: pointer;
      min-width: 100px;
    }
    .start-btn { background: #34a853; color: white; }
    .stop-btn  { background: #ea4335; color: white; }
    .reset-btn { background: #fbbc04; color: white; }
    .dark-toggle { background: var(--accent); color: white; }
    /* Kazan√ß kutusu */
    .earnings-box {
      max-width: 500px;
      margin: 3vw auto;
      background: var(--box);
      font-size: 5vw;
      font-weight: bold;
      padding: 4vw;
      text-align: center;
      border-radius: 2vw;
      color: var(--gold);
    }
    /* √ñzet (toplam s√ºre ve fazla mesai) */
    .summary {
      max-width: 500px;
      margin: 2vw auto 6vw;
      font-size: 4vw;
      text-align: center;
      color: var(--text);
    }
    /* Alt gezinme √ßubuƒüu */
    .nav {
      position: fixed;
      bottom: 0;
      left: 0; right: 0;
      display: flex;
      justify-content: space-around;
      background: var(--box);
      padding: 1vw 0;
      border-top: 1px solid #ccc;
    }
    .nav button {
      background: none;
      border: none;
      font-size: 4vw;
      font-weight: bold;
      color: var(--accent);
      flex: 1;
    }
    /* Profil sayfasƒ± */
    #profileView input,
    #profileView textarea {
      width: 100%;
      padding: 2vw;
      font-size: 4vw;
      margin-bottom: 2vw;
      border-radius: 1vw;
      border: 1px solid #ccc;
      background: var(--box);
      color: var(--text);
    }
    #profileView h2 {
      text-align: center;
      margin-bottom: 2vw;
      font-size: 5vw;
      color: var(--accent);
    }
    #careerSuggestion {
      margin-top: 2vw;
      font-size: 4vw;
      color: var(--accent);
      text-align: center;
    }
    /* Ayarlar sayfasƒ± */
    #settingsView label {
      display: block;
      margin-bottom: 1vw;
      font-weight: 600;
      font-size: 4vw;
    }
    #settingsView input, 
    #settingsView select {
      width: 100%;
      padding: 2vw;
      border-radius: 1vw;
      font-size: 4vw;
      border: 1px solid #ccc;
      background: var(--box);
      color: var(--text);
      margin-bottom: 2vw;
    }
    #settingsView button {
      width: 100%;
      padding: 3vw;
      font-size: 4vw;
      font-weight: bold;
      border: none;
      border-radius: 1vw;
      cursor: pointer;
      background: #ea4335;
      color: white;
      margin-top: 2vw;
    }
  </style>
</head>
<body>
  <!-- Ba≈ülƒ±k: Solda ikon, saƒüda kullanƒ±cƒ± adƒ± veya fotoƒüraf -->
  <header>
    <div style="display: flex; align-items: center; gap: 2vw;">
      <img src="icon.png" class="logo" alt="logo" />
      <img id="profilePhoto" src="" alt="Profil Fotoƒürafƒ±" style="height:40px; width:40px; border-radius:50%; object-fit:cover; display:none;" />
    </div>
    <div class="username" id="displayName"></div>
  </header>

  <!-- Ana sayfa g√∂r√ºn√ºm√º -->
  <main id="mainView">
    <!-- Maa≈ü Bilgisi Giri≈üi -->
    <div class="input-group">
      <label for="salary">Maa≈ü Bilgisi (TL)</label>
      <input type="number" id="salary" placeholder="Aylƒ±k maa≈üƒ±nƒ±zƒ± girin">
    </div>
    <!-- Ek S√ºre Giri≈üi -->
    <div class="input-group">
      <label>Ek S√ºre</label>
      <div class="time-group">
        <input type="number" id="extraHours" placeholder="Saat">
        <input type="number" id="extraMinutes" placeholder="Dakika">
      </div>
    </div>
    <!-- G√ºnl√ºk Hedef Giri≈üi -->
    <div class="input-group">
      <label>G√ºnl√ºk Hedef (saat)</label>
      <input type="number" id="dailyGoal" placeholder="√ñrn: 8">
    </div>
    <!-- D√ºƒümeler -->
    <div class="buttons">
      <button class="start-btn" onclick="startTracking()">BA≈ûLAT</button>
      <button class="stop-btn"  onclick="stopTracking()">DURDUR</button>
      <button class="reset-btn" onclick="resetDaily()">SIFIRLA (G√ºnl√ºk)</button>
      <button class="dark-toggle" onclick="toggleDarkMode()">GECE MODU</button>
    </div>
    <!-- Kazan√ß ve S√ºre Bilgisi -->
    <div class="earnings-box" id="earnings">0,00 TL</div>
    <div class="summary">
      <div id="timeDisplay">Toplam S√ºre: 0s</div>
      <div id="overtimeDisplay">Fazla Mesai: 0s</div>
    </div>
    <!-- Grafik (√áizgi) -->
    <div class="input-group">
      <label>Grafik:</label>
      <select id="chartRange" onchange="updateChart()">
        <option value="daily">G√ºnl√ºk</option>
        <option value="weekly">Haftalƒ±k</option>
        <option value="monthly">Aylƒ±k</option>
      </select>
      <canvas id="earningsChart" width="400" height="250" style="margin-top:2vw;"></canvas>
    </div>
  </main>

  <!-- Profil g√∂r√ºn√ºm√º -->
  <main id="profileView" class="hidden">
    <h2>Profil</h2>
    <input type="file" id="photoUpload" accept="image/*" style="margin-bottom:2vw;">
    <input id="careerTitle" placeholder="Meslek / Alan">
    <textarea id="careerSkills" placeholder="Beceriler, ilgi alanlarƒ±" style="height:20vw;"></textarea>
    <div id="careerSuggestion"></div>
    <div id="jobLinks" style="margin-top:2vw; font-size:3.5vw; color:var(--text);"></div>
  </main>

  <!-- Ayarlar g√∂r√ºn√ºm√º -->
  <main id="settingsView" class="hidden">
    <h2 style="text-align:center;font-size:5vw;color:var(--accent);margin-bottom:2vw;">Ayarlar</h2>
    <label for="currency">D√∂viz Cinsi</label>
    <select id="currency">
      <option value="TL">TL</option>
      <option value="USD">USD</option>
      <option value="EUR">EUR</option>
    </select>
    <label for="exchangeRate">D√∂viz Kuru (1 birim USD/EUR = ? TL)</label>
    <input type="number" step="0.01" id="exchangeRate" placeholder="√ñrn: 32.50">
    <label for="overtimeMultiplier">Fazla Mesai √áarpanƒ±</label>
    <input type="number" step="0.1" id="overtimeMultiplier" placeholder="√ñrn: 1.5 (default)">
    <label for="themeSelect">Tema</label>
    <select id="themeSelect">
      <option value="auto">Otomatik</option>
      <option value="light">Aydƒ±nlƒ±k</option>
      <option value="dark">Koyu</option>
    </select>
    <button onclick="resetAll()">T√ºm Verileri Sƒ±fƒ±rla</button>
  </main>

  <!-- Alt gezinme √ßubuƒüu -->
  <nav class="nav">
    <button onclick="showView('main')">üè† Ana Sayfa</button>
    <button onclick="showView('profile')">üë§ Profil</button>
    <button onclick="showView('settings')">‚öôÔ∏è Ayarlar</button>
  </nav>

  <!-- Ses Efektleri -->
  <audio id="startSound">
    <source src="data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAA..." type="audio/mp3">
    <!-- Yukarƒ±daki base64 kƒ±smƒ±nƒ± kendi kƒ±sa ‚Äúba≈ülat‚Äù sesi ile deƒüi≈ütirin -->
  </audio>
  <audio id="stopSound">
    <source src="data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAA..." type="audio/mp3">
    <!-- Yukarƒ±daki base64 kƒ±smƒ±nƒ± kendi kƒ±sa ‚Äúdurdur‚Äù sesi ile deƒüi≈ütirin -->
  </audio>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    // Timer ve deƒüi≈ükenler
    let timer;
    let startTimestamp = parseInt(localStorage.getItem('startTimestamp')) || null;
    let accumulatedSeconds = parseInt(localStorage.getItem('accumulatedSeconds')) || 0;
    let isRunning = localStorage.getItem('isRunning') === 'true';
    let earnings     = parseFloat(localStorage.getItem('earnings'))     || 0;
    let name         = localStorage.getItem('username');
    let goal         = parseFloat(localStorage.getItem('dailyGoal'))    || 8;
    let currency     = localStorage.getItem('currency') || 'TL';
    let exchangeRate = parseFloat(localStorage.getItem('exchangeRate')) || 1;
    let overtimeMultiplier = parseFloat(localStorage.getItem('overtimeMultiplier')) || 1.5;

    // Kullanƒ±cƒ± adƒ± yoksa prompt ile al, sakla
    if (!name) {
      name = prompt("Ho≈ü geldiniz! L√ºtfen adƒ±nƒ±zƒ± ve soyadƒ±nƒ±zƒ± girin:");
      if (name) localStorage.setItem('username', name);
    }
    document.getElementById("displayName").innerText = name || '';

    // Profil fotoƒürafƒ±nƒ± y√ºkleyince g√∂ster
    const photoUpload = document.getElementById('photoUpload');
    const profilePhoto = document.getElementById('profilePhoto');
    const savedPhoto = localStorage.getItem('profilePhoto');
    if (savedPhoto) {
      profilePhoto.src = savedPhoto;
      profilePhoto.style.display = 'block';
    }
    photoUpload.onchange = e => {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(evt) {
        localStorage.setItem('profilePhoto', evt.target.result);
        profilePhoto.src = evt.target.result;
        profilePhoto.style.display = 'block';
      };
      reader.readAsDataURL(file);
    };

    // Input elemanlarƒ±nƒ± al
    const salaryInput       = document.getElementById('salary');
    const extraHoursInput   = document.getElementById('extraHours');
    const extraMinutesInput = document.getElementById('extraMinutes');
    const dailyGoalInput    = document.getElementById('dailyGoal');
    const titleInput        = document.getElementById('careerTitle');
    const skillsInput       = document.getElementById('careerSkills');
    const currencySelect    = document.getElementById('currency');
    const exchangeRateInput = document.getElementById('exchangeRate');
    const overtimeInput     = document.getElementById('overtimeMultiplier');
    const themeSelect       = document.getElementById('themeSelect');
    const chartRangeSelect  = document.getElementById('chartRange');

    // LocalStorage‚Äôdan deƒüerleri getir ve inputlara yaz
    salaryInput.value       = localStorage.getItem('salary')      || '';
    extraHoursInput.value   = localStorage.getItem('extraHours')  || 0;
    extraMinutesInput.value = localStorage.getItem('extraMinutes')|| 0;
    dailyGoalInput.value    = goal;
    titleInput.value        = localStorage.getItem('careerTitle') || '';
    skillsInput.value       = localStorage.getItem('careerSkills')|| '';
    currencySelect.value    = currency;
    exchangeRateInput.value = exchangeRate;
    overtimeInput.value     = overtimeMultiplier;
    themeSelect.value       = localStorage.getItem('theme') || 'auto';

    // Tema ayarƒ± (auto = cihaz saati bazlƒ±)
    function applyTheme() {
      const saved = localStorage.getItem('theme');
      if (saved === 'light') document.body.classList.remove('dark');
      else if (saved === 'dark') document.body.classList.add('dark');
      else {
        const hour = new Date().getHours();
        if (hour >= 19 || hour < 6) document.body.classList.add('dark');
        else document.body.classList.remove('dark');
      }
    }
    themeSelect.onchange = () => {
      localStorage.setItem('theme', themeSelect.value);
      applyTheme();
    };
    applyTheme();

    // Diƒüer input deƒüi≈üimlerini sakla
    salaryInput.onchange       = () => localStorage.setItem('salary', salaryInput.value);
    extraHoursInput.onchange   = () => localStorage.setItem('extraHours', extraHoursInput.value);
    extraMinutesInput.onchange = () => localStorage.setItem('extraMinutes', extraMinutesInput.value);
    dailyGoalInput.onchange    = () => {
      localStorage.setItem('dailyGoal', dailyGoalInput.value);
      goal = parseFloat(dailyGoalInput.value);
    };
    titleInput.oninput         = e => localStorage.setItem('careerTitle', e.target.value);
    skillsInput.oninput        = e => {
      localStorage.setItem('careerSkills', e.target.value);
      showSuggestions(e.target.value);
      showJobLinks(e.target.value);
    };
    currencySelect.onchange     = () => {
      currency = currencySelect.value;
      localStorage.setItem('currency', currency);
      drawChart();
      updateDisplay();
    };
    exchangeRateInput.onchange  = () => {
      exchangeRate = parseFloat(exchangeRateInput.value) || 1;
      localStorage.setItem('exchangeRate', exchangeRate);
      drawChart();
      updateDisplay();
    };
    overtimeInput.onchange      = () => {
      overtimeMultiplier = parseFloat(overtimeInput.value) || 1.5;
      localStorage.setItem('overtimeMultiplier', overtimeMultiplier);
    };
    chartRangeSelect.onchange   = () => drawChart();

    // Ses efektleri
    const startSound = document.getElementById('startSound');
    const stopSound  = document.getElementById('stopSound');

    // Zaman ve kazan√ß hesaplama
    function getCurrentSeconds() {
      if (isRunning && startTimestamp) {
        const now = Math.floor(Date.now() / 1000);
        return accumulatedSeconds + (now - startTimestamp);
      }
      return accumulatedSeconds;
    }
    function startTracking() {
      if (isRunning) return;
      // Ba≈ülat sesi
      startSound.currentTime = 0;
      startSound.play().catch(()=>{});
      const salary     = parseFloat(salaryInput.value) || 0;
      const hourlyRate = salary / 173.33;
      // Ek s√ºre
      const extraSeconds = ((+extraHoursInput.value || 0) * 3600 + (+extraMinutesInput.value || 0) * 60);
      // √ñnceki birikim varsa kalƒ±cƒ±ya ekle
      accumulatedSeconds = getCurrentSeconds() + extraSeconds;
      earnings = calculateEarnings(accumulatedSeconds);
      // ≈ûimdi ba≈üladƒ±
      startTimestamp = Math.floor(Date.now() / 1000);
      isRunning = true;
      localStorage.setItem('startTimestamp', startTimestamp);
      localStorage.setItem('accumulatedSeconds', accumulatedSeconds);
      localStorage.setItem('isRunning', 'true');
      updateDisplay();
      timer = setInterval(() => {
        accumulatedSeconds = getCurrentSeconds();
        earnings = calculateEarnings(accumulatedSeconds);
        localStorage.setItem('accumulatedSeconds', accumulatedSeconds);
        localStorage.setItem('earnings', earnings);
        updateDisplay();
        // Hedef kontrol√º
        if ((accumulatedSeconds / 3600) >= goal) showCongrats();
      }, 1000);
    }
    function stopTracking() {
      if (!isRunning) return;
      // Durdur sesi
      stopSound.currentTime = 0;
      stopSound.play().catch(()=>{});
      clearInterval(timer);
      // En son birikimi kaydet (son anda da bir kez hesaplandƒ±)
      accumulatedSeconds = getCurrentSeconds();
      earnings = calculateEarnings(accumulatedSeconds);
      localStorage.setItem('accumulatedSeconds', accumulatedSeconds);
      localStorage.setItem('earnings', earnings);
      isRunning = false;
      localStorage.setItem('isRunning', 'false');
    }
    function calculateEarnings(totalSec) {
      const salary     = parseFloat(salaryInput.value) || 0;
      const hourlyRate = salary / 173.33;
      const hours      = totalSec / 3600;
      const ratePerSec = hourlyRate / 3600 * ((hours >= 180) ? overtimeMultiplier : 1);
      return +(totalSec * ratePerSec).toFixed(2);
    }
    function confirmReset() {
      if (confirm("T√ºm veriler sƒ±fƒ±rlansƒ±n mƒ±?")) {
        resetAll();
      }
    }
    function resetDaily() {
      // Sadece bug√ºnk√º g√ºnl√ºk birikim ve kazan√ß kayƒ±tlarƒ±nƒ± sil
      const todayKey = new Date().toISOString().split('T')[0];
      localStorage.removeItem('daily_' + todayKey);
      // Sadece bug√ºnk√º accumulatedSeconds ve earnings sƒ±fƒ±rlansƒ±n
      accumulatedSeconds = 0;
      earnings = 0;
      localStorage.setItem('accumulatedSeconds', 0);
      localStorage.setItem('earnings', 0);
      // Eƒüer √ßalƒ±≈üƒ±yorsa, startTimestamp'ƒ± bug√ºne reset et
      if (isRunning) {
        startTimestamp = Math.floor(Date.now() / 1000);
        localStorage.setItem('startTimestamp', startTimestamp);
      }
      updateDisplay();
    }
    function resetAll() {
      clearInterval(timer);
      localStorage.clear();
      location.reload();
    }
    function showCongrats() {
      // Yalnƒ±zca bir kez g√∂ster
      if (!localStorage.getItem('goalCongrats')) {
        alert('üéâ Tebrikler! G√ºnl√ºk hedefi a≈ütƒ±nƒ±z.');
        localStorage.setItem('goalCongrats', 'shown');
      }
    }
    function toggleDarkMode() {
      document.body.classList.toggle('dark');
      localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
    }
    // G√∂r√ºn√ºmler arasƒ± ge√ßi≈ü
    function showView(view) {
      document.getElementById('mainView').classList.add('hidden');
      document.getElementById('profileView').classList.add('hidden');
      document.getElementById('settingsView').classList.add('hidden');
      document.getElementById(view + 'View').classList.remove('hidden');
      if (view === 'main') drawChart();
    }
    // Kullanƒ±cƒ± adƒ±nƒ±, profile foto, theme vs. ayarla
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
    // √áizgi grafik i√ßin Chart.js
    let chartInstance;
    function drawChart() {
      const ctx = document.getElementById('earningsChart').getContext('2d');
      const range = chartRangeSelect.value;
      const labels = [];
      const data   = [];
      const today = new Date();
      if (range === 'daily') {
        // Son 7 g√ºn
        for (let i = 6; i >= 0; i--) {
          const d = new Date(today);
          d.setDate(today.getDate() - i);
          const key = d.toISOString().split('T')[0];
          labels.push(key.slice(5));
          const val = +localStorage.getItem('daily_' + key) || 0;
          data.push(convertCurrency(val));
        }
      } else if (range === 'weekly') {
        // Son 4 hafta
        for (let w = 3; w >= 0; w--) {
          const start = new Date(today);
          start.setDate(today.getDate() - (w * 7));
          const weekKey = start.toISOString().split('T')[0].slice(5);
          labels.push('W'+(4 - w));
          let sum = 0;
          for (let d = 0; d < 7; d++) {
            const dd = new Date(start);
            dd.setDate(start.getDate() + d);
            const key = dd.toISOString().split('T')[0];
            sum += +localStorage.getItem('daily_' + key) || 0;
          }
          data.push(convertCurrency(sum));
        }
      } else {
        // Son 12 ay
        for (let m = 11; m >= 0; m--) {
          const d = new Date(today.getFullYear(), today.getMonth() - m, 1);
          const monthKey = (d.getMonth()+1).toString().padStart(2,'0') + '/' + d.getFullYear().toString().slice(2);
          labels.push(monthKey);
          let sum = 0;
          const year = d.getFullYear(), month = d.getMonth();
          const daysInMonth = new Date(year, month+1, 0).getDate();
          for (let day = 1; day <= daysInMonth; day++) {
            const dd = new Date(year, month, day);
            const key = dd.toISOString().split('T')[0];
            sum += +localStorage.getItem('daily_' + key) || 0;
          }
          data.push(convertCurrency(sum));
        }
      }
      if (chartInstance) chartInstance.destroy();
      chartInstance = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: 'Kazan√ß (' + currency + ')',
            data: data,
            borderColor: 'rgba(26, 115, 232, 0.8)',
            backgroundColor: 'rgba(26, 115, 232, 0.3)',
            fill: true,
            tension: 0.3
          }]
        },
        options: {
          scales: {
            y: { beginAtZero: true }
          }
        }
      });
    }
    function convertCurrency(val) {
      if (currency === 'TL') return val;
      return +(val / exchangeRate).toFixed(2);
    }
    // √ñneri ve i≈ü ilanƒ± linkleri
    function showSuggestions(text) {
      const val = text.toLowerCase();
      let msg = '';
      if (val.includes('yazƒ±lƒ±m')) {
        msg = 'Yapay zeka, front-end veya mobil geli≈ütirici pozisyonlarƒ± ilginizi √ßekebilir.';
      } else if (val.includes('tasarƒ±m')) {
        msg = 'UI/UX, grafik tasarƒ±m alanlarƒ±nda freelance i≈üler d√º≈ü√ºnebilirsiniz.';
      } else if (val.includes('kasiyer')) {
        msg = 'Perakende, s√ºpermarket veya market zincirlerinde kasiyerlik pozisyonlarƒ±na bakabilirsiniz.';
      }
      document.getElementById('careerSuggestion').innerText = msg;
    }
    function showJobLinks(text) {
      // Basit √∂rnek: arama sayfasƒ± linkleri
      const val = text.toLowerCase();
      const container = document.getElementById('jobLinks');
      container.innerHTML = '';
      if (val.includes('yazƒ±lƒ±m')) {
        container.innerHTML = `
          <a href="https://www.kariyer.net/ara?q=yazƒ±lƒ±m-geli≈ütirici" target="_blank">Yazƒ±lƒ±m Geli≈ütirici ƒ∞lanlarƒ±</a><br>
          <a href="https://www.kariyer.net/ara?q=front-end-geli≈ütirici" target="_blank">Front-end Geli≈ütirici ƒ∞lanlarƒ±</a>
        `;
      } else if (val.includes('tasarƒ±m')) {
        container.innerHTML = `
          <a href="https://www.kariyer.net/ara?q=ui-ux-tasarƒ±mcƒ±" target="_blank">UI/UX Tasarƒ±mcƒ± ƒ∞lanlarƒ±</a><br>
          <a href="https://www.kariyer.net/ara?q=grafik-tasarƒ±mcƒ±" target="_blank">Grafik Tasarƒ±mcƒ± ƒ∞lanlarƒ±</a>
        `;
      } else if (val.includes('kasiyer')) {
        container.innerHTML = `
          <a href="https://www.kariyer.net/ara?q=kasiyer" target="_blank">Kasiyer ƒ∞lanlarƒ±</a>
        `;
      }
    }

    // Uygulama y√ºklendiƒüinde
    window.onload = () => {
      if (isRunning) {
        // Eƒüer h√¢lihazƒ±rda √ßalƒ±≈üƒ±yorsa, timer‚Äôƒ± yeniden ba≈ülat
        startTracking();
      } else {
        // Durum deƒüi≈ümediƒüi s√ºrece sadece ekrana yansƒ±t
        updateDisplay();
      }
      drawChart();
      // Eƒüer theme auto se√ßildiyse zaten applyTheme() √ßaƒürƒ±lmƒ±≈ütƒ±
    };
  </script>
</body>
</html>
